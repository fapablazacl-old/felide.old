
CMAKE_MINIMUM_REQUIRED(VERSION 3.1)

PROJECT (felide)

# Boost
ADD_DEFINITIONS(-DBOOST_ALL_NO_LIB)

SET (Boost_USE_STATIC_LIBS OFF)
SET (Boost_USE_MULTITHREADED ON)
SET (Boost_USE_STATIC_RUNTIME OFF)

SET (CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_CURRENT_SOURCE_DIR}/cmake)

FIND_PACKAGE (Boost COMPONENTS filesystem system REQUIRED)

IF (FELIDE_GUI_TOOLKIT_WIN32XX)
    
    # Win32xx
    IF (NOT WIN32XX_INCLUDE_DIRS)
        MESSAGE (ERROR_MESSAGE "Win32++ include location isn't defined. Please define the WIN32XX_INCLUDE_DIRS variable.")
        SET (WIN32XX_FOUND false)
        SET (WIN32XX_LIBRARIES )
    ELSE ()
        SET (WIN32XX_FOUND true)
        SET (WIN32XX_LIBRARIES comctl32)
    ENDIF ()

    INCLUDE_DIRECTORIES (${WIN32XX_INCLUDE_DIRS})    

    SET (FELIDE_GUI_LIBRARIES ${WIN32XX_LIBRARIES})
ELSEIF (FELIDE_GUI_TOOLKIT_QT5)
    
    # Qt5Widgets    
    SET (CMAKE_INCLUDE_CURRENT_DIR ON)
    SET (CMAKE_AUTOMOC ON)
    FIND_PACKAGE(Qt5Widgets REQUIRED)
    FIND_PACKAGE(QScintilla REQUIRED)

    SET (FELIDE_GUI_LIBRARIES Qt5::Widgets ${QSCINTILLA_LIBRARY})

    INCLUDE_DIRECTORIES(${QSCINTILLA_INCLUDE_DIR})
    
ELSE ()
    MESSAGE (ERROR_MESSAGE "No selected GUI toolkit.")
ENDIF ()

# Include dirs
INCLUDE_DIRECTORIES (${Boost_INCLUDE_DIRS})
INCLUDE_DIRECTORIES (${PROJECT_SOURCE_DIR}/src)

ADD_SUBDIRECTORY (src/felide)
ADD_SUBDIRECTORY (src/felide.editor)
